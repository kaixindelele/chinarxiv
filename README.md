# ChinarXiv - Arxivè®ºæ–‡ç¿»è¯‘å·¥å…·

å°†GPT Academicçš„arxivè®ºæ–‡ç¿»è¯‘åŠŸèƒ½å•ç‹¬æŠ½å–å‡ºæ¥ï¼Œæ›´æ–¹ä¾¿éƒ¨ç½²å’Œé›†æˆarxivè®ºæ–‡ç¿»è¯‘æœåŠ¡ã€‚

**0812: æŠ±æ­‰ï¼Œç›®å‰çš„ç¼–è¯‘æˆåŠŸç‡åªæœ‰30%å·¦å³ï¼Œæˆ‘å°½é‡å°½å¿«ä¿®å¤ä¸€ä¸‹ï¼Œä¹Ÿæ¬¢è¿å¤§å®¶ä¸€èµ·æ‰¾bugã€‚**


## ğŸŒŸ é¡¹ç›®ç‰¹è‰²

- **å®Œæ•´ç¿»è¯‘æµç¨‹**ï¼šä»arxivé“¾æ¥åˆ°ç¿»è¯‘PDFçš„ä¸€ç«™å¼æœåŠ¡
- **æ™ºèƒ½å†…å®¹åˆ‡åˆ†**ï¼šåŸºäºLaTeXç»“æ„çš„æ™ºèƒ½åˆ†æ®µï¼Œä¿æŒæ–‡æ¡£å®Œæ•´æ€§
- **å¹¶å‘ç¿»è¯‘**ï¼šæ”¯æŒå¤šçº¿ç¨‹å¹¶å‘ç¿»è¯‘ï¼Œæé«˜æ•ˆç‡
- **ç¼“å­˜æœºåˆ¶**ï¼šæ”¯æŒç¿»è¯‘ç¼“å­˜ï¼Œé¿å…é‡å¤ç¿»è¯‘
- **LaTeXç¼–è¯‘**ï¼šå†…ç½®LaTeXç¼–è¯‘æœåŠ¡å™¨ï¼Œæ”¯æŒä¾èµ–æ–‡ä»¶å¤„ç†
- **æœ¯è¯­ä¸€è‡´æ€§**ï¼šæ”¯æŒè‡ªå®šä¹‰æœ¯è¯­è¯å…¸ï¼Œç¡®ä¿ç¿»è¯‘ä¸€è‡´æ€§
- **é”™è¯¯æ¢å¤**ï¼šæ™ºèƒ½é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶

## ğŸ“‹ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- âœ… **Arxivè®ºæ–‡ä¸‹è½½**ï¼šæ”¯æŒå¤šç§arxivè¾“å…¥æ ¼å¼ï¼ˆIDã€URLç­‰ï¼‰
- âœ… **LaTeXè§£æ**ï¼šæ™ºèƒ½è§£æå’Œåˆå¹¶LaTeXæ–‡æ¡£ç»“æ„
- âœ… **å†…å®¹åˆ‡åˆ†**ï¼šåŸºäºtokené™åˆ¶çš„æ™ºèƒ½åˆ†æ®µ
- âœ… **æ‰¹é‡ç¿»è¯‘**ï¼šæ”¯æŒGPT-4ç­‰å¤§è¯­è¨€æ¨¡å‹çš„å¹¶å‘ç¿»è¯‘
- âœ… **ç»“æœåˆå¹¶**ï¼šæ™ºèƒ½åˆå¹¶ç¿»è¯‘ç»“æœï¼Œä¿æŒLaTeXæ ¼å¼
- âœ… **PDFç¼–è¯‘**ï¼šæ”¯æŒä¸­æ–‡å­—ä½“çš„PDFç¼–è¯‘
- âœ… **ç¼“å­˜ç³»ç»Ÿ**ï¼šæ”¯æŒä¸‹è½½ç¼“å­˜å’Œç¿»è¯‘ç¼“å­˜

### é«˜çº§ç‰¹æ€§
- ğŸ”§ **è‡ªå®šä¹‰é…ç½®**ï¼šæ”¯æŒAPIé…ç½®ã€æ¨¡å‹é€‰æ‹©ã€å¹¶å‘æ•°ç­‰
- ğŸ“š **æœ¯è¯­ç®¡ç†**ï¼šæ”¯æŒè‡ªå®šä¹‰æœ¯è¯­è¯å…¸
- ğŸ¯ **ç¿»è¯‘è¦æ±‚**ï¼šæ”¯æŒè‡ªå®šä¹‰ç¿»è¯‘é£æ ¼å’Œè¦æ±‚
- ğŸ“Š **è¿›åº¦è·Ÿè¸ª**ï¼šå®æ—¶ç¿»è¯‘è¿›åº¦åé¦ˆ
- ğŸ› ï¸ **é”™è¯¯å¤„ç†**ï¼šè¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œæ¢å¤å»ºè®®

## ğŸš€ å¿«é€Ÿå¼€å§‹

æœ€ç®€å•çš„éƒ¨ç½²ï¼š
```
1. cd latex2pdf
2. docker compose -f docker-compose-latex-server.yml up --build -d
3. ç¼–è¾‘ config.py æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„APIé…ç½®ï¼›
4. python arxiv_translator.py
```

### ç¯å¢ƒè¦æ±‚

- Python 3.8+
- LaTeXç¯å¢ƒï¼ˆæ¨èTeX Liveï¼‰
- OpenAI APIå¯†é’¥æˆ–å…¼å®¹çš„LLM API

### å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

ä¸»è¦ä¾èµ–åŒ…æ‹¬ï¼š
- `requests` - HTTPè¯·æ±‚
- `openai` - OpenAI APIå®¢æˆ·ç«¯
- `tiktoken` - Tokenè®¡ç®—
- `fastapi` - LaTeXç¼–è¯‘æœåŠ¡å™¨
- `uvicorn` - ASGIæœåŠ¡å™¨

### é…ç½®è®¾ç½®

1. å¤åˆ¶é…ç½®æ¨¡æ¿ï¼š
```bash
cp config_temp-éœ€è¦ä¿®æ”¹æˆconfig-å¡«å…¥è‡ªå·±çš„API.py config.py
```

2. ç¼–è¾‘ [`config.py`](config.py) æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„APIé…ç½®ï¼š
```python
# OpenAI APIé…ç½®
API_KEY = "your-api-key-here"
BASE_URL = "https://api.openai.com/v1"  # æˆ–å…¶ä»–å…¼å®¹çš„APIåœ°å€
LLM_MODEL = "gpt-4o-mini"  # æˆ–å…¶ä»–æ”¯æŒçš„æ¨¡å‹
```

### åŸºæœ¬ä½¿ç”¨

#### æ–¹å¼1ï¼šä½¿ç”¨ä¸»æ¥å£ï¼ˆæ¨èï¼‰

```python
from arxiv_translator import translate_arxiv_paper

# ç¿»è¯‘arxivè®ºæ–‡
success, result = translate_arxiv_paper(
    arxiv_input="1812.10695",  # arxiv IDæˆ–URL
    user_requirements="ä¿æŒå­¦æœ¯æ€§å’Œä¸“ä¸šæ€§ï¼Œç¡®ä¿æœ¯è¯­ç¿»è¯‘çš„ä¸€è‡´æ€§",
    compile_pdf=True  # æ˜¯å¦ç¼–è¯‘PDF
)

if success:
    print(f"ç¿»è¯‘æˆåŠŸï¼æ–‡ä»¶ä¿å­˜åœ¨: {result}")
else:
    print(f"ç¿»è¯‘å¤±è´¥: {result}")
```

#### æ–¹å¼2ï¼šä½¿ç”¨å®Œæ•´API

```python
from arxiv_translator import ArxivTranslator

# åˆ›å»ºç¿»è¯‘å™¨
translator = ArxivTranslator(
    output_dir="./output",
    max_workers=9,  # å¹¶å‘çº¿ç¨‹æ•°
    max_token_limit=800  # æ¯æ®µæœ€å¤§tokenæ•°
)

# è‡ªå®šä¹‰æœ¯è¯­è¯å…¸
user_terms = {
    "transformer": "å˜æ¢å™¨",
    "attention": "æ³¨æ„åŠ›æœºåˆ¶",
    "neural network": "ç¥ç»ç½‘ç»œ"
}

# æ‰§è¡Œç¿»è¯‘
success, result, details = translator.translate_arxiv(
    arxiv_input="https://arxiv.org/abs/1812.10695",
    user_requirements="ç¿»è¯‘è¦ä¿æŒå­¦æœ¯æ€§ï¼Œä¸“ä¸šæœ¯è¯­é¦–æ¬¡å‡ºç°æ—¶æ ‡æ³¨è‹±æ–‡åŸè¯",
    user_terms=user_terms,
    compile_pdf=True
)
```

#### æ–¹å¼3ï¼šå‘½ä»¤è¡Œä½¿ç”¨

```bash
python arxiv_translator.py
```

ç„¶åæŒ‰æç¤ºè¾“å…¥arxiv IDæˆ–é€‰æ‹©æµ‹è¯•ç”¨ä¾‹ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
chinarxiv/
â”œâ”€â”€ README.md                    # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ config.py                    # é…ç½®æ–‡ä»¶ï¼ˆéœ€è¦åˆ›å»ºï¼‰
â”œâ”€â”€ config_temp-éœ€è¦ä¿®æ”¹æˆconfig-å¡«å…¥è‡ªå·±çš„API.py  # é…ç½®æ¨¡æ¿
â”œâ”€â”€ arxiv_translator.py          # ä¸»ç¿»è¯‘æ¥å£
â”œâ”€â”€ step1_arxiv_downloader.py    # Arxivè®ºæ–‡ä¸‹è½½å™¨
â”œâ”€â”€ step2_latex_parser.py        # LaTeXæ–‡æ¡£è§£æå™¨
â”œâ”€â”€ step3_content_splitter.py    # å†…å®¹æ™ºèƒ½åˆ‡åˆ†å™¨
â”œâ”€â”€ step4_gpt_model.py          # GPTæ¨¡å‹æ¥å£
â”œâ”€â”€ step5_result_merger.py       # ç¿»è¯‘ç»“æœåˆå¹¶å™¨
â”œâ”€â”€ step6_translation_manager.py # ç¿»è¯‘ç®¡ç†å™¨
â”œâ”€â”€ step7_trans_cache.py        # ç¿»è¯‘ç¼“å­˜ç®¡ç†
â”œâ”€â”€ step8_pdf_compiler.py       # PDFç¼–è¯‘å™¨
â”œâ”€â”€ all_terms.json              # æœ¯è¯­è¯å…¸
â”œâ”€â”€ todo.md                     # å¼€å‘è®¡åˆ’
â””â”€â”€ latex2pdf/                  # LaTeXç¼–è¯‘æœåŠ¡
    â”œâ”€â”€ README-latex-server.md   # LaTeXæœåŠ¡å™¨è¯´æ˜
    â”œâ”€â”€ latex_compile_server.py  # LaTeXç¼–è¯‘æœåŠ¡å™¨
    â”œâ”€â”€ latex_compile_client.py  # LaTeXç¼–è¯‘å®¢æˆ·ç«¯
    â”œâ”€â”€ docker-compose-latex-server.yml  # Dockeré…ç½®
    â”œâ”€â”€ Dockerfile-latex-compile-server   # Dockeré•œåƒ
    â””â”€â”€ requirements-latex-server.txt     # æœåŠ¡å™¨ä¾èµ–
```

## ğŸ”§ è¯¦ç»†é…ç½®

### APIé…ç½®é€‰é¡¹

åœ¨ [`config.py`](config.py) ä¸­å¯ä»¥é…ç½®ï¼š

```python
# LLM APIé…ç½®
API_KEY = "your-api-key"           # APIå¯†é’¥
BASE_URL = "https://api.openai.com/v1"  # APIåœ°å€
LLM_MODEL = "gpt-4o-mini"          # æ¨¡å‹åç§°

# ç¿»è¯‘é…ç½®
MAX_WORKERS = 9                    # æœ€å¤§å¹¶å‘æ•°
MAX_TOKEN_LIMIT = 800             # æ¯æ®µæœ€å¤§tokenæ•°
TEMPERATURE = 0.3                  # ç¿»è¯‘æ¸©åº¦å‚æ•°

# ç¼“å­˜é…ç½®
USE_CACHE = True                   # æ˜¯å¦ä½¿ç”¨ç¼“å­˜
CACHE_DIR = "./arxiv_cache"        # ç¼“å­˜ç›®å½•

# LaTeXç¼–è¯‘é…ç½®
LATEX_SERVER_URL = "http://localhost:9851"  # LaTeXæœåŠ¡å™¨åœ°å€
```

### è‡ªå®šä¹‰ç¿»è¯‘è¦æ±‚

```python
user_requirements = """
ç¿»è¯‘è¦æ±‚ï¼š
1. ä¿æŒå­¦æœ¯æ€§å’Œä¸“ä¸šæ€§
2. ç¡®ä¿æœ¯è¯­ç¿»è¯‘çš„ä¸€è‡´æ€§
3. ä¸“ä¸šæœ¯è¯­é¦–æ¬¡å‡ºç°æ—¶ç”¨æ‹¬å·æ ‡æ³¨è‹±æ–‡åŸè¯
4. ä¿æŒæ•°å­¦å…¬å¼å’Œå¼•ç”¨æ ¼å¼ä¸å˜
5. ç¿»è¯‘è¦æµç•…è‡ªç„¶ï¼Œç¬¦åˆä¸­æ–‡è¡¨è¾¾ä¹ æƒ¯
"""
```

### æœ¯è¯­è¯å…¸ç®¡ç†

```python
user_terms = {
    # æœºå™¨å­¦ä¹ ç›¸å…³
    "machine learning": "æœºå™¨å­¦ä¹ ",
    "deep learning": "æ·±åº¦å­¦ä¹ ",
    "neural network": "ç¥ç»ç½‘ç»œ",
    "transformer": "å˜æ¢å™¨",
    "attention": "æ³¨æ„åŠ›æœºåˆ¶",
    
    # æ•°å­¦ç›¸å…³
    "gradient": "æ¢¯åº¦",
    "optimization": "ä¼˜åŒ–",
    "convergence": "æ”¶æ•›",
    
    # é¢†åŸŸç‰¹å®šæœ¯è¯­
    "reinforcement learning": "å¼ºåŒ–å­¦ä¹ ",
    "natural language processing": "è‡ªç„¶è¯­è¨€å¤„ç†"
}
```

## ğŸ³ Dockeréƒ¨ç½²

### LaTeXç¼–è¯‘æœåŠ¡å™¨

é¡¹ç›®åŒ…å«ç‹¬ç«‹çš„LaTeXç¼–è¯‘æœåŠ¡å™¨ï¼Œæ”¯æŒDockeréƒ¨ç½²ï¼š

```bash
cd latex2pdf
docker-compose -f docker-compose-latex-server.yml up -d
```

è¯¦ç»†è¯´æ˜è¯·å‚è€ƒï¼š[`latex2pdf/README-latex-server.md`](latex2pdf/README-latex-server.md)

## ğŸ“Š ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šç¿»è¯‘ç»å…¸è®ºæ–‡

```python
from arxiv_translator import translate_arxiv_paper

# ç¿»è¯‘GPT-1è®ºæ–‡
success, result = translate_arxiv_paper(
    arxiv_input="1812.10695",
    user_requirements="ä¿æŒå­¦æœ¯ä¸¥è°¨æ€§ï¼Œæœ¯è¯­ç¿»è¯‘è¦å‡†ç¡®",
    compile_pdf=True
)

print(f"ç¿»è¯‘ç»“æœ: {result}")
```

### ç¤ºä¾‹2ï¼šæ‰¹é‡ç¿»è¯‘

```python
from arxiv_translator import ArxivTranslator

translator = ArxivTranslator(max_workers=6)

papers = ["1812.10695", "2402.14207", "1706.03762"]

for paper_id in papers:
    print(f"æ­£åœ¨ç¿»è¯‘: {paper_id}")
    success, result, details = translator.translate_arxiv(paper_id)
    if success:
        print(f"âœ… {paper_id} ç¿»è¯‘å®Œæˆ: {result}")
    else:
        print(f"âŒ {paper_id} ç¿»è¯‘å¤±è´¥: {result}")
```

### ç¤ºä¾‹3ï¼šè¿›åº¦ç›‘æ§

```python
def progress_callback(step, progress, message):
    print(f"Step {step} - {progress:.1f}%: {message}")

translator = ArxivTranslator()
success, result, details = translator.translate_arxiv(
    arxiv_input="1812.10695",
    progress_callback=progress_callback
)
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **APIé…ç½®é”™è¯¯**
   - æ£€æŸ¥ [`config.py`](config.py) ä¸­çš„API_KEYå’ŒBASE_URLæ˜¯å¦æ­£ç¡®
   - ç¡®è®¤APIå¯†é’¥æœ‰è¶³å¤Ÿçš„é¢åº¦

2. **LaTeXç¼–è¯‘å¤±è´¥**
   - ç¡®ä¿å®‰è£…äº†å®Œæ•´çš„LaTeXç¯å¢ƒï¼ˆæ¨èTeX Liveï¼‰
   - æ£€æŸ¥LaTeXç¼–è¯‘æœåŠ¡å™¨æ˜¯å¦æ­£å¸¸è¿è¡Œ
   - æŸ¥çœ‹ç¼–è¯‘æ—¥å¿—è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯

3. **ä¸‹è½½å¤±è´¥**
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - å¦‚éœ€è¦ï¼Œé…ç½®ä»£ç†è®¾ç½®
   - ç¡®è®¤arxiv IDæ ¼å¼æ­£ç¡®

4. **ç¿»è¯‘è´¨é‡é—®é¢˜**
   - è°ƒæ•´MAX_TOKEN_LIMITå‚æ•°ï¼Œå‡å°åˆ†æ®µå¤§å°
   - ä½¿ç”¨æ›´å¼ºçš„æ¨¡å‹ï¼ˆå¦‚gpt-4ï¼‰
   - å®Œå–„æœ¯è¯­è¯å…¸å’Œç¿»è¯‘è¦æ±‚

### è°ƒè¯•æ¨¡å¼

å¯ç”¨è¯¦ç»†æ—¥å¿—ï¼š

```python
import logging
logging.basicConfig(level=logging.DEBUG)

# ç„¶åè¿è¡Œç¿»è¯‘
translator = ArxivTranslator()
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

### å¼€å‘ç¯å¢ƒè®¾ç½®

1. Forké¡¹ç›®
2. åˆ›å»ºå¼€å‘åˆ†æ”¯
3. å®‰è£…å¼€å‘ä¾èµ–ï¼š`pip install -r requirements.txt`
4. è¿è¡Œæµ‹è¯•ï¼š`python arxiv_translator.py`

### æäº¤è§„èŒƒ

- éµå¾ªPEP 8ä»£ç è§„èŒƒ
- æ·»åŠ å¿…è¦çš„æ³¨é‡Šå’Œæ–‡æ¡£
- ç¡®ä¿æµ‹è¯•é€šè¿‡

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäºGPT Academicé¡¹ç›®æ”¹è¿›ï¼Œéµå¾ªç›¸åº”çš„å¼€æºè®¸å¯è¯ã€‚

## ğŸ™ è‡´è°¢

- æ„Ÿè°¢ [GPT Academic](https://github.com/binary-husky/gpt_academic) é¡¹ç›®æä¾›çš„åŸºç¡€ä»£ç 

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- æäº¤Issueï¼š[GitHub Issues](https://github.com/kaixindelele/chinarxiv/issues)
- QQç¾¤ï¼š816116844
---

**æ³¨æ„**ï¼šä½¿ç”¨æœ¬å·¥å…·ç¿»è¯‘è®ºæ–‡æ—¶ï¼Œè¯·éµå®ˆç›¸å…³çš„ç‰ˆæƒå’Œå­¦æœ¯è§„èŒƒï¼Œç¡®ä¿ç¿»è¯‘ç»“æœä»…ç”¨äºå­¦ä¹ å’Œç ”ç©¶ç›®çš„ã€‚
